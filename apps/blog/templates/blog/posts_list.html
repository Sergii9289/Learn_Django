{% extends "base.html" %}
{% load static %}

{% block title %}–°–ø–∏—Å–æ–∫ –ø–æ—Å—Ç—ñ–≤{% endblock %}

{% block content %}
  <div class="form-container">
    <h2>üìö –°–ø–∏—Å–æ–∫ –ø–æ—Å—Ç—ñ–≤</h2>
    <ul>
      {% for post in object_list %}
        <li class="post-item">
          {% if post.author.avatar %}
            <a href="{{ post.author.avatar.url }}" target="_blank">
              <img src="{{ post.author.avatar.url }}" alt="{{ post.author.name }}" class="avatar">
            </a>
          {% endif %}
          <a href="{{ post.get_absolute_url }}" class="view-link">{{ post.title }}</a>
          <span>(—Å—Ç–≤–æ—Ä–µ–Ω–æ: {{ post.created_at|date:"d.m.Y" }}) ‚Äî {{ post.author.name }}</span>
        </li>
      {% empty %}
        <li>–ü–æ–∫–∏ —â–æ –Ω–µ–º–∞—î –ø–æ—Å—Ç—ñ–≤.</li>
      {% endfor %}
    </ul>

    <!-- –ö–Ω–æ–ø–∫–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Å—Ç—É -->
    <a href="{% url 'blog:post-create' %}" class="btn">‚ûï –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É —Å—Ç–∞—Ç—Ç—é</a>

    {% if is_paginated %}
      <div class="pagination">
        {% if page_obj.has_previous %}
          <a href="?page={{ page_obj.previous_page_number }}" class="btn">‚¨Ö –ü–æ–ø–µ—Ä–µ–¥–Ω—è</a>
        {% endif %}

        <span>–°—Ç–æ—Ä—ñ–Ω–∫–∞ {{ page_obj.number }} –∑ {{ paginator.num_pages }}</span>

        {% if page_obj.has_next %}
          <a href="?page={{ page_obj.next_page_number }}" class="btn">–ù–∞—Å—Ç—É–ø–Ω–∞ ‚û°</a>
        {% endif %}
      </div>
    {% endif %}
  </div>
{% endblock %}
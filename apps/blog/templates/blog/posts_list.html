{% extends "base.html" %}
{% load static %}

{% block title %}–°–ø–∏—Å–æ–∫ –ø–æ—Å—Ç—ñ–≤{% endblock %}

{% block content %}
  <div class="form-container">
    <h2>üìö –°–ø–∏—Å–æ–∫ –ø–æ—Å—Ç—ñ–≤</h2>
    <ul>
      {% for post in object_list %}
          <li class="post-item">
            {% if post.author.avatar %}
              <a href="{{ post.author.avatar.url }}" target="_blank">
                <img src="{{ post.author.avatar.url }}" alt="{{ post.author.name }}" class="avatar">
              </a>
            {% endif %}
            <a href="{{ post.get_absolute_url }}" class="view-link">{{ post.title }}</a>

            <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∞–≤—Ç–æ—Ä–∞ —Ç–∞ —ñ–∫–æ–Ω–æ–∫ -->
            <div class="post-meta-actions">
              <span class="post-meta">(—Å—Ç–≤–æ—Ä–µ–Ω–æ: {{ post.created_at|date:"d.m.Y" }}) ‚Äî {{ post.author.name }}</span>
              <a href="{% url 'blog:post-update' post.pk %}" class="action-link edit-link" title="–†–µ–¥–∞–≥—É–≤–∞—Ç–∏">
                <i class="fas fa-edit"></i>
              </a>
              <a href="{% url 'blog:post-delete' post.pk %}" class="action-link delete-link" title="–í–∏–¥–∞–ª–∏—Ç–∏">
                <i class="fas fa-trash-alt"></i>
              </a>
            </div>
          </li>
      {% endfor %}
    </ul>

    <!-- –ö–Ω–æ–ø–∫–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Å—Ç—É -->
    <a href="{% url 'blog:post-create' %}" class="btn">‚ûï –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É —Å—Ç–∞—Ç—Ç—é</a>

    {% if is_paginated %}
      <div class="pagination">
        {% if page_obj.has_previous %}
          <a href="?page={{ page_obj.previous_page_number }}" class="btn">‚¨Ö –ü–æ–ø–µ—Ä–µ–¥–Ω—è</a>
        {% endif %}

        <span>–°—Ç–æ—Ä—ñ–Ω–∫–∞ {{ page_obj.number }} –∑ {{ paginator.num_pages }}</span>

        {% if page_obj.has_next %}
          <a href="?page={{ page_obj.next_page_number }}" class="btn">–ù–∞—Å—Ç—É–ø–Ω–∞ ‚û°</a>
        {% endif %}
      </div>
    {% endif %}
  </div>
{% endblock %}